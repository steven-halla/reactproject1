{"ast":null,"code":"var _jsxFileName = \"/Users/stevenhalla/code/cs246_react_project-main/src/views/ProductDetail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, lazy } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { useParams } from \"react-router\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCartPlus, faHeart, faShoppingCart, faMinus, faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { shuffleArray } from '../utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardFeaturedProduct = /*#__PURE__*/lazy(_c = () => import(\"../components/card/CardFeaturedProduct\"));\n_c2 = CardFeaturedProduct;\nconst CardServices = /*#__PURE__*/lazy(_c3 = () => import(\"../components/card/CardServices\"));\n_c4 = CardServices;\nconst Details = /*#__PURE__*/lazy(_c5 = () => import(\"../components/others/Details\"));\n_c6 = Details;\nconst QuestionAnswer = /*#__PURE__*/lazy(_c7 = () => import(\"../components/others/QuestionAnswer\"));\n_c8 = QuestionAnswer;\nconst ShippingReturns = /*#__PURE__*/lazy(_c9 = () => import(\"../components/others/ShippingReturns\"));\n_c10 = ShippingReturns;\n\nconst addProduct = (shoppingCart, product, updateCount) => {\n  console.log(\"Adding product:\", product);\n  shoppingCart.addProduct(product);\n  const addedProduct = shoppingCart.products.get(product._id);\n  const newCount = addedProduct.count;\n  console.log(\"Updated shopping cart:\", shoppingCart.products);\n  console.log(\"New count for product:\", newCount);\n  getNewCount(shoppingCart, updateCount); // Update total count\n};\n\nconst removeProduct = (shoppingCart, product, updateCount) => {\n  console.log(\"Removing product:\", product);\n  shoppingCart.removeProduct(product._id);\n  const remainingProduct = shoppingCart.products.get(product._id);\n  const newCount = remainingProduct ? remainingProduct.count : 0;\n  console.log(\"Updated shopping cart:\", shoppingCart.products);\n  console.log(\"New count for product:\", newCount);\n  getNewCount(shoppingCart, updateCount); // Update total count\n};\n\nconst getNewCount = (shoppingCart, updateCount) => {\n  let totalCount = 0;\n  shoppingCart.products.forEach(product => {\n    totalCount += product.count;\n  });\n  updateCount(totalCount); // Use setCount to update the total count in the app\n};\n\nexport default function ProductDetail(_ref) {\n  _s();\n\n  var _shoppingCart$product;\n\n  let {\n    allproducts,\n    shoppingCart,\n    updateCount\n  } = _ref;\n  const params = useParams();\n  const navigate = useNavigate();\n  const filtered = allproducts.filter(item => item._id === params.id)[0];\n  const initialCount = ((_shoppingCart$product = shoppingCart.products.get(filtered._id)) === null || _shoppingCart$product === void 0 ? void 0 : _shoppingCart$product.count) || 0;\n  const [productCount, setProductCount] = useState(initialCount);\n  useEffect(() => {\n    var _shoppingCart$product2;\n\n    setProductCount(((_shoppingCart$product2 = shoppingCart.products.get(filtered._id)) === null || _shoppingCart$product2 === void 0 ? void 0 : _shoppingCart$product2.count) || 0);\n  }, [shoppingCart.products, filtered._id]);\n\n  const handleAddProduct = () => {\n    addProduct(shoppingCart, filtered, setProductCount);\n  };\n\n  const handleRemoveProduct = () => {\n    removeProduct(shoppingCart, filtered, setProductCount);\n  };\n\n  const handleUpdate = () => {\n    handleAddProduct();\n    navigate(`/checkout/`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid mt-3 dic\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-5 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: '/' + filtered.image,\n              className: \"img-fluid mb-3\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 mt-4 mr-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"h5 d-inline mr-2\",\n              children: filtered.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"m-4 ml-5\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-weight-bold h2 mr-2\",\n                children: [\"$\", filtered.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-inline float-left mr-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group input-group-sm mw-140\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary text-white\",\n                    type: \"button\",\n                    onClick: handleRemoveProduct,\n                    children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faMinus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    value: productCount,\n                    readOnly: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary text-white\",\n                    type: \"button\",\n                    onClick: handleAddProduct,\n                    children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faPlus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-sm btn-primary mr-2\",\n                title: \"Add to cart\",\n                style: {\n                  borderBottom: \"2px solid black\"\n                },\n                onClick: handleAddProduct,\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faCartPlus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, this), \" Add to cart\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-sm btn-warning mr-2\",\n                title: \"Buy now\",\n                style: {\n                  borderBottom: \"2px solid black\"\n                },\n                onClick: handleUpdate,\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faShoppingCart\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this), \" Buy now\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-sm btn-outline-secondary\",\n                title: \"Add to wishlist\",\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faHeart\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-weight-bolder mb-2 small\",\n                children: \"Product Highlights\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"small\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Handmade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Material: paper, glue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: filtered.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"nav nav-tabs\",\n                id: \"nav-tab\",\n                role: \"tablist\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"nav-link active\",\n                  id: \"nav-details-tab\",\n                  \"data-toggle\": \"tab\",\n                  href: \"#nav-details\",\n                  role: \"tab\",\n                  \"aria-controls\": \"nav-details\",\n                  \"aria-selected\": \"true\",\n                  children: \"Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"nav-link\",\n                  id: \"nav-faq-tab\",\n                  \"data-toggle\": \"tab\",\n                  href: \"#nav-faq\",\n                  role: \"tab\",\n                  \"aria-controls\": \"nav-faq\",\n                  \"aria-selected\": \"false\",\n                  children: \"Questions and Answers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"nav-link\",\n                  id: \"nav-ship-returns-tab\",\n                  \"data-toggle\": \"tab\",\n                  href: \"#nav-ship-returns\",\n                  role: \"tab\",\n                  \"aria-controls\": \"nav-ship-returns\",\n                  \"aria-selected\": \"false\",\n                  children: \"Shipping & Returns\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tab-content p-3 small\",\n              id: \"nav-tabContent\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tab-pane fade show active\",\n                id: \"nav-details\",\n                role: \"tabpanel\",\n                \"aria-labelledby\": \"nav-details-tab\",\n                children: /*#__PURE__*/_jsxDEV(Details, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tab-pane fade\",\n                id: \"nav-faq\",\n                role: \"tabpanel\",\n                \"aria-labelledby\": \"nav-faq-tab\",\n                children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                  children: Array.from({\n                    length: 5\n                  }, (_, key) => /*#__PURE__*/_jsxDEV(QuestionAnswer, {}, key, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tab-pane fade\",\n                id: \"nav-ship-returns\",\n                role: \"tabpanel\",\n                \"aria-labelledby\": \"nav-ship-returns-tab\",\n                children: /*#__PURE__*/_jsxDEV(ShippingReturns, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tab-pane fade\",\n                id: \"nav-size-chart\",\n                role: \"tabpanel\",\n                \"aria-labelledby\": \"nav-size-chart-tab\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: [/*#__PURE__*/_jsxDEV(CardFeaturedProduct, {\n          data: shuffleArray(allproducts.filter((item, index) => index < 6))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardServices, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 7\n  }, this);\n}\n\n_s(ProductDetail, \"Sw2qLfP3oMbf4Ff9I1l4zIUHsUA=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c11 = ProductDetail;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"CardFeaturedProduct$lazy\");\n$RefreshReg$(_c2, \"CardFeaturedProduct\");\n$RefreshReg$(_c3, \"CardServices$lazy\");\n$RefreshReg$(_c4, \"CardServices\");\n$RefreshReg$(_c5, \"Details$lazy\");\n$RefreshReg$(_c6, \"Details\");\n$RefreshReg$(_c7, \"QuestionAnswer$lazy\");\n$RefreshReg$(_c8, \"QuestionAnswer\");\n$RefreshReg$(_c9, \"ShippingReturns$lazy\");\n$RefreshReg$(_c10, \"ShippingReturns\");\n$RefreshReg$(_c11, \"ProductDetail\");","map":{"version":3,"sources":["/Users/stevenhalla/code/cs246_react_project-main/src/views/ProductDetail.jsx"],"names":["React","useState","useEffect","lazy","useNavigate","useParams","FontAwesomeIcon","faCartPlus","faHeart","faShoppingCart","faMinus","faPlus","shuffleArray","CardFeaturedProduct","CardServices","Details","QuestionAnswer","ShippingReturns","addProduct","shoppingCart","product","updateCount","console","log","addedProduct","products","get","_id","newCount","count","getNewCount","removeProduct","remainingProduct","totalCount","forEach","ProductDetail","allproducts","params","navigate","filtered","filter","item","id","initialCount","productCount","setProductCount","handleAddProduct","handleRemoveProduct","handleUpdate","image","name","price","borderBottom","description","Array","from","length","_","key","index"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,IAArC,QAAiD,OAAjD;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SACEC,UADF,EAEEC,OAFF,EAGEC,cAHF,EAIEC,OAJF,EAKEC,MALF,QAMO,mCANP;AAQA,SAASC,YAAT,QAA6B,UAA7B;;AAEA,MAAMC,mBAAmB,gBAAGV,IAAI,MAAC,MAC7B,OAAO,wCAAP,CAD4B,CAAhC;MAAMU,mB;AAGN,MAAMC,YAAY,gBAAGX,IAAI,OAAC,MAAM,OAAO,iCAAP,CAAP,CAAzB;MAAMW,Y;AACN,MAAMC,OAAO,gBAAGZ,IAAI,OAAC,MAAM,OAAO,8BAAP,CAAP,CAApB;MAAMY,O;AACN,MAAMC,cAAc,gBAAGb,IAAI,OAAC,MAAM,OAAO,qCAAP,CAAP,CAA3B;MAAMa,c;AACN,MAAMC,eAAe,gBAAGd,IAAI,OAAC,MAAM,OAAO,sCAAP,CAAP,CAA5B;OAAMc,e;;AAEN,MAAMC,UAAU,GAAG,CAACC,YAAD,EAAeC,OAAf,EAAwBC,WAAxB,KAAwC;AACzDC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,OAA/B;AAEAD,EAAAA,YAAY,CAACD,UAAb,CAAwBE,OAAxB;AAEA,QAAMI,YAAY,GAAGL,YAAY,CAACM,QAAb,CAAsBC,GAAtB,CAA0BN,OAAO,CAACO,GAAlC,CAArB;AACA,QAAMC,QAAQ,GAAGJ,YAAY,CAACK,KAA9B;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCJ,YAAY,CAACM,QAAnD;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCK,QAAtC;AAEAE,EAAAA,WAAW,CAACX,YAAD,EAAeE,WAAf,CAAX,CAVyD,CAUjB;AACzC,CAXD;;AAaA,MAAMU,aAAa,GAAG,CAACZ,YAAD,EAAeC,OAAf,EAAwBC,WAAxB,KAAwC;AAC5DC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCH,OAAjC;AAEAD,EAAAA,YAAY,CAACY,aAAb,CAA2BX,OAAO,CAACO,GAAnC;AAEA,QAAMK,gBAAgB,GAAGb,YAAY,CAACM,QAAb,CAAsBC,GAAtB,CAA0BN,OAAO,CAACO,GAAlC,CAAzB;AACA,QAAMC,QAAQ,GAAGI,gBAAgB,GAAGA,gBAAgB,CAACH,KAApB,GAA4B,CAA7D;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCJ,YAAY,CAACM,QAAnD;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCK,QAAtC;AAEAE,EAAAA,WAAW,CAACX,YAAD,EAAeE,WAAf,CAAX,CAV4D,CAUpB;AACzC,CAXD;;AAaA,MAAMS,WAAW,GAAG,CAACX,YAAD,EAAeE,WAAf,KAA+B;AACjD,MAAIY,UAAU,GAAG,CAAjB;AACAd,EAAAA,YAAY,CAACM,QAAb,CAAsBS,OAAtB,CAA8Bd,OAAO,IAAI;AACvCa,IAAAA,UAAU,IAAIb,OAAO,CAACS,KAAtB;AACD,GAFD;AAGAR,EAAAA,WAAW,CAACY,UAAD,CAAX,CALiD,CAKxB;AAC1B,CAND;;AAQA,eAAe,SAASE,aAAT,OAAmE;AAAA;;AAAA;;AAAA,MAA5C;AAAEC,IAAAA,WAAF;AAAejB,IAAAA,YAAf;AAA6BE,IAAAA;AAA7B,GAA4C;AAChF,QAAMgB,MAAM,GAAGhC,SAAS,EAAxB;AACA,QAAMiC,QAAQ,GAAGlC,WAAW,EAA5B;AACA,QAAMmC,QAAQ,GAAGH,WAAW,CAACI,MAAZ,CAAmBC,IAAI,IAAIA,IAAI,CAACd,GAAL,KAAaU,MAAM,CAACK,EAA/C,EAAmD,CAAnD,CAAjB;AAEA,QAAMC,YAAY,GAAG,0BAAAxB,YAAY,CAACM,QAAb,CAAsBC,GAAtB,CAA0Ba,QAAQ,CAACZ,GAAnC,iFAAyCE,KAAzC,KAAkD,CAAvE;AACA,QAAM,CAACe,YAAD,EAAeC,eAAf,IAAkC5C,QAAQ,CAAC0C,YAAD,CAAhD;AAEAzC,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACd2C,IAAAA,eAAe,CAAC,2BAAA1B,YAAY,CAACM,QAAb,CAAsBC,GAAtB,CAA0Ba,QAAQ,CAACZ,GAAnC,mFAAyCE,KAAzC,KAAkD,CAAnD,CAAf;AACD,GAFQ,EAEN,CAACV,YAAY,CAACM,QAAd,EAAwBc,QAAQ,CAACZ,GAAjC,CAFM,CAAT;;AAIA,QAAMmB,gBAAgB,GAAG,MAAM;AAC7B5B,IAAAA,UAAU,CAACC,YAAD,EAAeoB,QAAf,EAAyBM,eAAzB,CAAV;AACD,GAFD;;AAIA,QAAME,mBAAmB,GAAG,MAAM;AAChChB,IAAAA,aAAa,CAACZ,YAAD,EAAeoB,QAAf,EAAyBM,eAAzB,CAAb;AACD,GAFD;;AAIA,QAAMG,YAAY,GAAG,MAAM;AACzBF,IAAAA,gBAAgB;AAChBR,IAAAA,QAAQ,CAAE,YAAF,CAAR;AACD,GAHD;;AAKA,sBACI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,sBAAf;AAAA,mCACE;AACI,cAAA,GAAG,EAAE,MAAMC,QAAQ,CAACU,KADxB;AAEI,cAAA,SAAS,EAAC,gBAFd;AAGI,cAAA,GAAG,EAAC;AAHR;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE;AAAK,YAAA,SAAS,EAAC,oBAAf;AAAA,oCACE;AAAI,cAAA,SAAS,EAAC,kBAAd;AAAA,wBAAkCV,QAAQ,CAACW;AAA3C;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,cAAA,SAAS,EAAC,UAAf;AAAA,qCACE;AAAM,gBAAA,SAAS,EAAC,0BAAhB;AAAA,gCAA6CX,QAAQ,CAACY,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAFF,eAKE;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAC,0BAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,mCAAf;AAAA,0CACE;AACI,oBAAA,SAAS,EAAC,4BADd;AAEI,oBAAA,IAAI,EAAC,QAFT;AAGI,oBAAA,OAAO,EAAEJ,mBAHb;AAAA,2CAKE,QAAC,eAAD;AAAiB,sBAAA,IAAI,EAAErC;AAAvB;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,0BADF,eAQE;AACI,oBAAA,IAAI,EAAC,MADT;AAEI,oBAAA,SAAS,EAAC,cAFd;AAGI,oBAAA,KAAK,EAAEkC,YAHX;AAII,oBAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,0BARF,eAcE;AACI,oBAAA,SAAS,EAAC,4BADd;AAEI,oBAAA,IAAI,EAAC,QAFT;AAGI,oBAAA,OAAO,EAAEE,gBAHb;AAAA,2CAKE,QAAC,eAAD;AAAiB,sBAAA,IAAI,EAAEnC;AAAvB;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,0BAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAyBE;AACI,gBAAA,IAAI,EAAC,QADT;AAEI,gBAAA,SAAS,EAAC,6BAFd;AAGI,gBAAA,KAAK,EAAC,aAHV;AAII,gBAAA,KAAK,EAAE;AAAEyC,kBAAAA,YAAY,EAAE;AAAhB,iBAJX;AAKI,gBAAA,OAAO,EAAEN,gBALb;AAAA,wCAOE,QAAC,eAAD;AAAiB,kBAAA,IAAI,EAAEvC;AAAvB;AAAA;AAAA;AAAA;AAAA,wBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAzBF,eAkCE;AACI,gBAAA,IAAI,EAAC,QADT;AAEI,gBAAA,SAAS,EAAC,6BAFd;AAGI,gBAAA,KAAK,EAAC,SAHV;AAII,gBAAA,KAAK,EAAE;AAAE6C,kBAAAA,YAAY,EAAE;AAAhB,iBAJX;AAKI,gBAAA,OAAO,EAAEJ,YALb;AAAA,wCAOE,QAAC,eAAD;AAAiB,kBAAA,IAAI,EAAEvC;AAAvB;AAAA;AAAA;AAAA;AAAA,wBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAlCF,eA2CE;AACI,gBAAA,IAAI,EAAC,QADT;AAEI,gBAAA,SAAS,EAAC,kCAFd;AAGI,gBAAA,KAAK,EAAC,iBAHV;AAAA,uCAKE,QAAC,eAAD;AAAiB,kBAAA,IAAI,EAAED;AAAvB;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,sBA3CF;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF,eAwDE;AAAA,sCACE;AAAG,gBAAA,SAAS,EAAC,+BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAI,gBAAA,SAAS,EAAC,OAAd;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAA,4BAAK+B,QAAQ,CAACc;AAAd;AAAA;AAAA;AAAA;AAAA,wBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAxDF;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eA2EE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,oCACE;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,cAAf;AAA8B,gBAAA,EAAE,EAAC,SAAjC;AAA2C,gBAAA,IAAI,EAAC,SAAhD;AAAA,wCACE;AACI,kBAAA,SAAS,EAAC,iBADd;AAEI,kBAAA,EAAE,EAAC,iBAFP;AAGI,iCAAY,KAHhB;AAII,kBAAA,IAAI,EAAC,cAJT;AAKI,kBAAA,IAAI,EAAC,KALT;AAMI,mCAAc,aANlB;AAOI,mCAAc,MAPlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAYE;AACI,kBAAA,SAAS,EAAC,UADd;AAEI,kBAAA,EAAE,EAAC,aAFP;AAGI,iCAAY,KAHhB;AAII,kBAAA,IAAI,EAAC,UAJT;AAKI,kBAAA,IAAI,EAAC,KALT;AAMI,mCAAc,SANlB;AAOI,mCAAc,OAPlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAZF,eAuBE;AACI,kBAAA,SAAS,EAAC,UADd;AAEI,kBAAA,EAAE,EAAC,sBAFP;AAGI,iCAAY,KAHhB;AAII,kBAAA,IAAI,EAAC,mBAJT;AAKI,kBAAA,IAAI,EAAC,KALT;AAMI,mCAAc,kBANlB;AAOI,mCAAc,OAPlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAsCE;AAAK,cAAA,SAAS,EAAC,uBAAf;AAAuC,cAAA,EAAE,EAAC,gBAA1C;AAAA,sCACE;AACI,gBAAA,SAAS,EAAC,2BADd;AAEI,gBAAA,EAAE,EAAC,aAFP;AAGI,gBAAA,IAAI,EAAC,UAHT;AAII,mCAAgB,iBAJpB;AAAA,uCAME,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,sBADF,eASE;AACI,gBAAA,SAAS,EAAC,eADd;AAEI,gBAAA,EAAE,EAAC,SAFP;AAGI,gBAAA,IAAI,EAAC,UAHT;AAII,mCAAgB,aAJpB;AAAA,uCAME;AAAA,4BACGC,KAAK,CAACC,IAAN,CAAW;AAAEC,oBAAAA,MAAM,EAAE;AAAV,mBAAX,EAA0B,CAACC,CAAD,EAAIC,GAAJ,kBACvB,QAAC,cAAD,MAAqBA,GAArB;AAAA;AAAA;AAAA;AAAA,0BADH;AADH;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,sBATF,eAqBE;AACI,gBAAA,SAAS,EAAC,eADd;AAEI,gBAAA,EAAE,EAAC,kBAFP;AAGI,gBAAA,IAAI,EAAC,UAHT;AAII,mCAAgB,sBAJpB;AAAA,uCAME,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,sBArBF,eA6BE;AACI,gBAAA,SAAS,EAAC,eADd;AAEI,gBAAA,EAAE,EAAC,gBAFP;AAGI,gBAAA,IAAI,EAAC,UAHT;AAII,mCAAgB;AAJpB;AAAA;AAAA;AAAA;AAAA,sBA7BF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAtCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBA3EF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eA0JE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,gCACE,QAAC,mBAAD;AAAqB,UAAA,IAAI,EAAE9C,YAAY,CAACwB,WAAW,CAACI,MAAZ,CAAmB,CAACC,IAAD,EAAOkB,KAAP,KAAiBA,KAAK,GAAG,CAA5C,CAAD;AAAvC;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cA1JF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADJ;AAmKD;;GA5LuBxB,a;UACP9B,S,EACED,W;;;OAFK+B,a","sourcesContent":["import React, { useState, useEffect, lazy } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { useParams } from \"react-router\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCartPlus,\n  faHeart,\n  faShoppingCart,\n  faMinus,\n  faPlus,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { shuffleArray } from '../utils';\n\nconst CardFeaturedProduct = lazy(() =>\n    import(\"../components/card/CardFeaturedProduct\")\n);\nconst CardServices = lazy(() => import(\"../components/card/CardServices\"));\nconst Details = lazy(() => import(\"../components/others/Details\"));\nconst QuestionAnswer = lazy(() => import(\"../components/others/QuestionAnswer\"));\nconst ShippingReturns = lazy(() => import(\"../components/others/ShippingReturns\"));\n\nconst addProduct = (shoppingCart, product, updateCount) => {\n  console.log(\"Adding product:\", product);\n\n  shoppingCart.addProduct(product);\n\n  const addedProduct = shoppingCart.products.get(product._id);\n  const newCount = addedProduct.count;\n  console.log(\"Updated shopping cart:\", shoppingCart.products);\n  console.log(\"New count for product:\", newCount);\n\n  getNewCount(shoppingCart, updateCount); // Update total count\n}\n\nconst removeProduct = (shoppingCart, product, updateCount) => {\n  console.log(\"Removing product:\", product);\n\n  shoppingCart.removeProduct(product._id);\n\n  const remainingProduct = shoppingCart.products.get(product._id);\n  const newCount = remainingProduct ? remainingProduct.count : 0;\n  console.log(\"Updated shopping cart:\", shoppingCart.products);\n  console.log(\"New count for product:\", newCount);\n\n  getNewCount(shoppingCart, updateCount); // Update total count\n}\n\nconst getNewCount = (shoppingCart, updateCount) => {\n  let totalCount = 0;\n  shoppingCart.products.forEach(product => {\n    totalCount += product.count;\n  });\n  updateCount(totalCount); // Use setCount to update the total count in the app\n};\n\nexport default function ProductDetail({ allproducts, shoppingCart, updateCount }) {\n  const params = useParams();\n  const navigate = useNavigate();\n  const filtered = allproducts.filter(item => item._id === params.id)[0];\n\n  const initialCount = shoppingCart.products.get(filtered._id)?.count || 0;\n  const [productCount, setProductCount] = useState(initialCount);\n\n  useEffect(() => {\n    setProductCount(shoppingCart.products.get(filtered._id)?.count || 0);\n  }, [shoppingCart.products, filtered._id]);\n\n  const handleAddProduct = () => {\n    addProduct(shoppingCart, filtered, setProductCount);\n  };\n\n  const handleRemoveProduct = () => {\n    removeProduct(shoppingCart, filtered, setProductCount);\n  };\n\n  const handleUpdate = () => {\n    handleAddProduct();\n    navigate(`/checkout/`);\n  };\n\n  return (\n      <div className=\"container-fluid mt-3 dic\">\n        <div className=\"row\">\n          <div className=\"col-md-8\">\n            <div className=\"row mb-3\">\n              <div className=\"col-md-5 text-center\">\n                <img\n                    src={'/' + filtered.image}\n                    className=\"img-fluid mb-3\"\n                    alt=\"\"\n                />\n              </div>\n              <div className=\"col-md-6 mt-4 mr-6\">\n                <h1 className=\"h5 d-inline mr-2\">{filtered.name}</h1>\n                <div className=\"m-4 ml-5\">\n                  <span className=\"font-weight-bold h2 mr-2\">${filtered.price}</span>\n                </div>\n                <div className=\"mb-3\">\n                  <div className=\"d-inline float-left mr-2\">\n                    <div className=\"input-group input-group-sm mw-140\">\n                      <button\n                          className=\"btn btn-primary text-white\"\n                          type=\"button\"\n                          onClick={handleRemoveProduct}\n                      >\n                        <FontAwesomeIcon icon={faMinus} />\n                      </button>\n                      <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          value={productCount}\n                          readOnly\n                      />\n                      <button\n                          className=\"btn btn-primary text-white\"\n                          type=\"button\"\n                          onClick={handleAddProduct}\n                      >\n                        <FontAwesomeIcon icon={faPlus} />\n                      </button>\n                    </div>\n                  </div>\n                  <button\n                      type=\"button\"\n                      className=\"btn btn-sm btn-primary mr-2\"\n                      title=\"Add to cart\"\n                      style={{ borderBottom: \"2px solid black\" }}\n                      onClick={handleAddProduct}\n                  >\n                    <FontAwesomeIcon icon={faCartPlus} /> Add to cart\n                  </button>\n                  <button\n                      type=\"button\"\n                      className=\"btn btn-sm btn-warning mr-2\"\n                      title=\"Buy now\"\n                      style={{ borderBottom: \"2px solid black\" }}\n                      onClick={handleUpdate}\n                  >\n                    <FontAwesomeIcon icon={faShoppingCart} /> Buy now\n                  </button>\n                  <button\n                      type=\"button\"\n                      className=\"btn btn-sm btn-outline-secondary\"\n                      title=\"Add to wishlist\"\n                  >\n                    <FontAwesomeIcon icon={faHeart} />\n                  </button>\n                </div>\n                <div>\n                  <p className=\"font-weight-bolder mb-2 small\">Product Highlights</p>\n                  <ul className=\"small\">\n                    <li>Handmade</li>\n                    <li>Material: paper, glue</li>\n                    <li>{filtered.description}</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <nav>\n                  <div className=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n                    <a\n                        className=\"nav-link active\"\n                        id=\"nav-details-tab\"\n                        data-toggle=\"tab\"\n                        href=\"#nav-details\"\n                        role=\"tab\"\n                        aria-controls=\"nav-details\"\n                        aria-selected=\"true\"\n                    >\n                      Details\n                    </a>\n                    <a\n                        className=\"nav-link\"\n                        id=\"nav-faq-tab\"\n                        data-toggle=\"tab\"\n                        href=\"#nav-faq\"\n                        role=\"tab\"\n                        aria-controls=\"nav-faq\"\n                        aria-selected=\"false\"\n                    >\n                      Questions and Answers\n                    </a>\n                    <a\n                        className=\"nav-link\"\n                        id=\"nav-ship-returns-tab\"\n                        data-toggle=\"tab\"\n                        href=\"#nav-ship-returns\"\n                        role=\"tab\"\n                        aria-controls=\"nav-ship-returns\"\n                        aria-selected=\"false\"\n                    >\n                      Shipping & Returns\n                    </a>\n                  </div>\n                </nav>\n                <div className=\"tab-content p-3 small\" id=\"nav-tabContent\">\n                  <div\n                      className=\"tab-pane fade show active\"\n                      id=\"nav-details\"\n                      role=\"tabpanel\"\n                      aria-labelledby=\"nav-details-tab\"\n                  >\n                    <Details />\n                  </div>\n                  <div\n                      className=\"tab-pane fade\"\n                      id=\"nav-faq\"\n                      role=\"tabpanel\"\n                      aria-labelledby=\"nav-faq-tab\"\n                  >\n                    <dl>\n                      {Array.from({ length: 5 }, (_, key) => (\n                          <QuestionAnswer key={key} />\n                      ))}\n                    </dl>\n                  </div>\n                  <div\n                      className=\"tab-pane fade\"\n                      id=\"nav-ship-returns\"\n                      role=\"tabpanel\"\n                      aria-labelledby=\"nav-ship-returns-tab\"\n                  >\n                    <ShippingReturns />\n                  </div>\n                  <div\n                      className=\"tab-pane fade\"\n                      id=\"nav-size-chart\"\n                      role=\"tabpanel\"\n                      aria-labelledby=\"nav-size-chart-tab\"\n                  ></div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-4\">\n            <CardFeaturedProduct data={shuffleArray(allproducts.filter((item, index) => index < 6))} />\n            <CardServices />\n          </div>\n        </div>\n      </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}