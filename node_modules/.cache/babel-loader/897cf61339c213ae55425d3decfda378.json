{"ast":null,"code":"var _jsxFileName = \"/Users/stevenhalla/code/cs246_react_project-main/src/views/cart/Cart.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { lazy, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ReactComponent as IconHeartFill } from \"bootstrap-icons/icons/heart-fill.svg\";\nimport { ReactComponent as IconTrash } from \"bootstrap-icons/icons/trash.svg\";\nimport { ReactComponent as IconChevronRight } from \"bootstrap-icons/icons/chevron-right.svg\";\nimport { ReactComponent as IconChevronLeft } from \"bootstrap-icons/icons/chevron-left.svg\";\nimport { ReactComponent as IconTruck } from \"bootstrap-icons/icons/truck.svg\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMinus, faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { ShoppingCart } from \"../../models/Shoppingcart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CouponApplyForm = /*#__PURE__*/lazy(_c = () => import(\"../../components/others/CouponApplyForm\"));\n_c2 = CouponApplyForm;\nconst discountAmount = 1;\n\nconst onSubmitApplyCouponCode = (values, dispatch, _ref) => {\n  let {\n    setDiscount\n  } = _ref;\n  const {\n    coupon\n  } = values;\n\n  if (coupon && coupon.trim() !== \"\") {\n    alert(\"Coupon applied! You get a $1 discount.\");\n    setDiscount(discountAmount);\n  } else {\n    alert(\"Invalid coupon code. Please try again.\");\n  }\n};\n\nconst removeProduct = (shoppingCart, shoppingCartProduct, setShoppingCart, updateCount) => {\n  console.log(\"Remove product pushed\");\n  const updatedCart = new ShoppingCart(new Map(shoppingCart.products));\n  console.log(\"Cloned shopping cart:\", updatedCart);\n  const cartProduct = updatedCart.products.get(shoppingCartProduct.product._id);\n\n  if (cartProduct) {\n    cartProduct.count -= 1;\n    console.log(\"Decremented count for product:\", cartProduct);\n\n    if (cartProduct.count <= 0) {\n      updatedCart.products.delete(shoppingCartProduct.product._id);\n      console.log(\"Removed product from cart:\", shoppingCartProduct.product);\n    }\n  }\n\n  setShoppingCart(updatedCart);\n  console.log(\"Updated shopping cart state:\", updatedCart);\n  let totalCount = 0;\n  updatedCart.products.forEach(item => {\n    totalCount += item.count;\n  });\n  console.log(\"New total count: \", totalCount);\n  updateCount(totalCount);\n};\n\nconst addProduct = (shoppingCart, shoppingCartProduct, setShoppingCart, updateCount) => {\n  console.log(\"Add product pushed\");\n  const updatedCart = new ShoppingCart(new Map(shoppingCart.products));\n  console.log(\"Cloned shopping cart:\", updatedCart);\n  const cartProduct = updatedCart.products.get(shoppingCartProduct.product._id);\n\n  if (cartProduct) {\n    cartProduct.count += 1;\n    console.log(\"Incremented count for product:\", cartProduct);\n  } else {\n    updatedCart.products.set(shoppingCartProduct.product._id, {\n      product: shoppingCartProduct.product,\n      count: 1\n    });\n    console.log(\"Added new product to cart:\", shoppingCartProduct.product);\n  }\n\n  setShoppingCart(updatedCart);\n  console.log(\"Updated shopping cart state:\", updatedCart);\n  let totalCount = 0;\n  updatedCart.products.forEach(item => {\n    totalCount += item.count;\n  });\n  console.log(\"New total count: \", totalCount);\n  updateCount(totalCount);\n};\n\nconst removeAllProduct = (shoppingCart, shoppingCartProduct, setShoppingCart, updateCount) => {\n  console.log(\"Remove all product pushed\");\n  const updatedCart = new ShoppingCart(new Map(shoppingCart.products));\n  console.log(\"Cloned shopping cart:\", updatedCart);\n  updatedCart.products.delete(shoppingCartProduct.product._id);\n  console.log(\"Removed product from cart:\", shoppingCartProduct.product);\n  setShoppingCart(updatedCart);\n  console.log(\"Updated shopping cart state:\", updatedCart);\n  let totalCount = 0;\n  updatedCart.products.forEach(item => {\n    totalCount += item.count;\n  });\n  console.log(\"New total count: \", totalCount);\n  updateCount(totalCount);\n};\n\nconst getTotalCost = shoppingCart => {\n  console.log(\"get total cost pushed\");\n  let totalCost = 0;\n  shoppingCart.products.forEach(item => {\n    const productCost = item.product.price * item.count;\n    totalCost += productCost;\n  });\n  console.log(\"Total cost calculated:\", totalCost);\n  return totalCost;\n};\n\nconst ProductList = _ref2 => {\n  let {\n    shoppingCart,\n    setShoppingCart,\n    updateCount\n  } = _ref2;\n  const products = Array.from(shoppingCart.products.values());\n\n  const handleRemoveAllProduct = product => {\n    removeAllProduct(shoppingCart, {\n      product\n    }, setShoppingCart, updateCount);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-borderless\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"text-muted\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"small text-uppercase\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                width: 120,\n                children: \"Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                width: 150,\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"text-right\",\n                width: 130\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: products.map((wrapper, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-3 d-none d-md-block\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"../../\" + wrapper.product.image,\n                      width: \"80\",\n                      alt: \"...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col\",\n                    children: [/*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/product/detail\",\n                      className: \"text-decoration-none\",\n                      children: wrapper.product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"small text-muted\",\n                      children: wrapper.product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group input-group-sm mw-140\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary text-white\",\n                    type: \"button\",\n                    onClick: () => removeProduct(shoppingCart, wrapper, setShoppingCart, updateCount),\n                    children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faMinus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    value: wrapper.count,\n                    readOnly: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary text-white\",\n                    type: \"button\",\n                    onClick: () => addProduct(shoppingCart, wrapper, setShoppingCart, updateCount),\n                    children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faPlus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"var\", {\n                  className: \"price\",\n                  children: [\"$\", (wrapper.product.price * wrapper.count).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"d-block text-muted\",\n                  children: [\"$\", wrapper.product.price, \" each\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-outline-secondary mr-2\",\n                  children: /*#__PURE__*/_jsxDEV(IconHeartFill, {\n                    className: \"i-va\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-outline-danger\",\n                  onClick: () => handleRemoveAllProduct(wrapper.product),\n                  children: /*#__PURE__*/_jsxDEV(IconTrash, {\n                    className: \"i-va\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this)]\n            }, wrapper.product._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/checkout\",\n          className: \"btn btn-primary float-right\",\n          children: [\"Make Purchase \", /*#__PURE__*/_jsxDEV(IconChevronRight, {\n            className: \"i-va\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"btn btn-secondary\",\n          children: [/*#__PURE__*/_jsxDEV(IconChevronLeft, {\n            className: \"i-va\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), \" Continue shopping\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_c3 = ProductList;\nexport default function CartView(_ref3) {\n  _s();\n\n  let {\n    shoppingCart,\n    setShoppingCart,\n    updateCount\n  } = _ref3;\n  const [discount, setDiscount] = useState(0);\n  const totalCost = getTotalCost(shoppingCart);\n  const discountedTotal = totalCost - discount;\n\n  const handleCouponSubmit = (values, dispatch) => {\n    const {\n      coupon\n    } = values;\n\n    if (coupon && coupon.trim() !== \"\") {\n      alert(\"Coupon applied! You get a $1 discount.\");\n      setDiscount(1);\n    } else {\n      alert(\"Invalid coupon code. Please try again.\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-secondary border-top p-4 text-white mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"display-6\",\n        children: \"Shopping Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-9\",\n          children: [/*#__PURE__*/_jsxDEV(ProductList, {\n            shoppingCart: shoppingCart,\n            setShoppingCart: setShoppingCart,\n            updateCount: updateCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-success mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"m-0\",\n              children: [/*#__PURE__*/_jsxDEV(IconTruck, {\n                className: \"i-va mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this), \" Free Delivery within 1-2 weeks\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(CouponApplyForm, {\n                onSubmit: handleCouponSubmit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"dl\", {\n                className: \"row border-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"col-6\",\n                  children: \"Total price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"col-6 text-right\",\n                  children: [\"$\", totalCost.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"col-6 text-success\",\n                  children: \"Discount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"col-6 text-success text-right\",\n                  children: [\"-$\", discount.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"col-6 text-success\",\n                  children: \"Coupon:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"col-6 text-success text-right\",\n                  children: \"-$1.00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"col-6\",\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"col-6 text-right h5\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [\"$\", discountedTotal.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"../../images/payment/payments.webp\",\n                  alt: \"...\",\n                  height: 26\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-light border-top p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Payment and refund policy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(CartView, \"6Bm+5oesg/R2+V7IxYmGa4+JKxM=\");\n\n_c4 = CartView;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"CouponApplyForm$lazy\");\n$RefreshReg$(_c2, \"CouponApplyForm\");\n$RefreshReg$(_c3, \"ProductList\");\n$RefreshReg$(_c4, \"CartView\");","map":{"version":3,"sources":["/Users/stevenhalla/code/cs246_react_project-main/src/views/cart/Cart.jsx"],"names":["React","lazy","useState","Link","ReactComponent","IconHeartFill","IconTrash","IconChevronRight","IconChevronLeft","IconTruck","FontAwesomeIcon","faMinus","faPlus","ShoppingCart","CouponApplyForm","discountAmount","onSubmitApplyCouponCode","values","dispatch","setDiscount","coupon","trim","alert","removeProduct","shoppingCart","shoppingCartProduct","setShoppingCart","updateCount","console","log","updatedCart","Map","products","cartProduct","get","product","_id","count","delete","totalCount","forEach","item","addProduct","set","removeAllProduct","getTotalCost","totalCost","productCost","price","ProductList","Array","from","handleRemoveAllProduct","map","wrapper","index","image","name","toFixed","CartView","discount","discountedTotal","handleCouponSubmit"],"mappings":"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","sourcesContent":["import React, { lazy, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ReactComponent as IconHeartFill } from \"bootstrap-icons/icons/heart-fill.svg\";\nimport { ReactComponent as IconTrash } from \"bootstrap-icons/icons/trash.svg\";\nimport { ReactComponent as IconChevronRight } from \"bootstrap-icons/icons/chevron-right.svg\";\nimport { ReactComponent as IconChevronLeft } from \"bootstrap-icons/icons/chevron-left.svg\";\nimport { ReactComponent as IconTruck } from \"bootstrap-icons/icons/truck.svg\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMinus, faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { ShoppingCart } from \"../../models/Shoppingcart\";\n\nconst CouponApplyForm = lazy(() => import(\"../../components/others/CouponApplyForm\"));\n\nconst discountAmount = 1;\n\nconst onSubmitApplyCouponCode = (values, dispatch, { setDiscount }) => {\n  const { coupon } = values;\n\n  if (coupon && coupon.trim() !== \"\") {\n    alert(\"Coupon applied! You get a $1 discount.\");\n    setDiscount(discountAmount);\n  } else {\n    alert(\"Invalid coupon code. Please try again.\");\n  }\n};\n\nconst removeProduct = (shoppingCart, shoppingCartProduct, setShoppingCart, updateCount) => {\n  console.log(\"Remove product pushed\");\n\n  const updatedCart = new ShoppingCart(new Map(shoppingCart.products));\n  console.log(\"Cloned shopping cart:\", updatedCart);\n\n  const cartProduct = updatedCart.products.get(shoppingCartProduct.product._id);\n\n  if (cartProduct) {\n    cartProduct.count -= 1;\n    console.log(\"Decremented count for product:\", cartProduct);\n\n    if (cartProduct.count <= 0) {\n      updatedCart.products.delete(shoppingCartProduct.product._id);\n      console.log(\"Removed product from cart:\", shoppingCartProduct.product);\n    }\n  }\n\n  setShoppingCart(updatedCart);\n  console.log(\"Updated shopping cart state:\", updatedCart);\n\n  let totalCount = 0;\n  updatedCart.products.forEach(item => {\n    totalCount += item.count;\n  });\n  console.log(\"New total count: \", totalCount);\n  updateCount(totalCount);\n};\n\nconst addProduct = (shoppingCart, shoppingCartProduct, setShoppingCart, updateCount) => {\n  console.log(\"Add product pushed\");\n\n  const updatedCart = new ShoppingCart(new Map(shoppingCart.products));\n  console.log(\"Cloned shopping cart:\", updatedCart);\n\n  const cartProduct = updatedCart.products.get(shoppingCartProduct.product._id);\n\n  if (cartProduct) {\n    cartProduct.count += 1;\n    console.log(\"Incremented count for product:\", cartProduct);\n  } else {\n    updatedCart.products.set(shoppingCartProduct.product._id, {\n      product: shoppingCartProduct.product,\n      count: 1,\n    });\n    console.log(\"Added new product to cart:\", shoppingCartProduct.product);\n  }\n\n  setShoppingCart(updatedCart);\n  console.log(\"Updated shopping cart state:\", updatedCart);\n\n  let totalCount = 0;\n  updatedCart.products.forEach(item => {\n    totalCount += item.count;\n  });\n  console.log(\"New total count: \", totalCount);\n  updateCount(totalCount);\n};\n\nconst removeAllProduct = (shoppingCart, shoppingCartProduct, setShoppingCart, updateCount) => {\n  console.log(\"Remove all product pushed\");\n\n  const updatedCart = new ShoppingCart(new Map(shoppingCart.products));\n  console.log(\"Cloned shopping cart:\", updatedCart);\n\n  updatedCart.products.delete(shoppingCartProduct.product._id);\n  console.log(\"Removed product from cart:\", shoppingCartProduct.product);\n\n  setShoppingCart(updatedCart);\n  console.log(\"Updated shopping cart state:\", updatedCart);\n\n  let totalCount = 0;\n  updatedCart.products.forEach(item => {\n    totalCount += item.count;\n  });\n  console.log(\"New total count: \", totalCount);\n  updateCount(totalCount);\n};\n\nconst getTotalCost = (shoppingCart) => {\n  console.log(\"get total cost pushed\");\n\n  let totalCost = 0;\n\n  shoppingCart.products.forEach(item => {\n    const productCost = item.product.price * item.count;\n    totalCost += productCost;\n  });\n\n  console.log(\"Total cost calculated:\", totalCost);\n  return totalCost;\n};\n\nconst ProductList = ({ shoppingCart, setShoppingCart, updateCount }) => {\n  const products = Array.from(shoppingCart.products.values());\n\n  const handleRemoveAllProduct = (product) => {\n    removeAllProduct(shoppingCart, { product }, setShoppingCart, updateCount);\n  };\n\n  return (\n      <>\n        <div className=\"card\">\n          <div className=\"table-responsive\">\n            <table className=\"table table-borderless\">\n              <thead className=\"text-muted\">\n              <tr className=\"small text-uppercase\">\n                <th scope=\"col\">Product</th>\n                <th scope=\"col\" width={120}>Quantity</th>\n                <th scope=\"col\" width={150}>Price</th>\n                <th scope=\"col\" className=\"text-right\" width={130}></th>\n              </tr>\n              </thead>\n              <tbody>\n              {products.map((wrapper, index) => (\n                  <tr key={wrapper.product._id}>\n                    <td>\n                      <div className=\"row\">\n                        <div className=\"col-3 d-none d-md-block\">\n                          <img src={\"../../\" + wrapper.product.image} width=\"80\" alt=\"...\" />\n                        </div>\n                        <div className=\"col\">\n                          <Link to=\"/product/detail\" className=\"text-decoration-none\">\n                            {wrapper.product.name}\n                          </Link>\n                          <p className=\"small text-muted\">{wrapper.product.name}</p>\n                        </div>\n                      </div>\n                    </td>\n                    <td>\n                      <div className=\"input-group input-group-sm mw-140\">\n                        <button\n                            className=\"btn btn-primary text-white\"\n                            type=\"button\"\n                            onClick={() => removeProduct(shoppingCart, wrapper, setShoppingCart, updateCount)}\n                        >\n                          <FontAwesomeIcon icon={faMinus} />\n                        </button>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            value={wrapper.count}\n                            readOnly\n                        />\n                        <button\n                            className=\"btn btn-primary text-white\"\n                            type=\"button\"\n                            onClick={() => addProduct(shoppingCart, wrapper, setShoppingCart, updateCount)}\n                        >\n                          <FontAwesomeIcon icon={faPlus} />\n                        </button>\n                      </div>\n                    </td>\n                    <td>\n                      <var className=\"price\">${(wrapper.product.price * wrapper.count).toFixed(2)}</var>\n                      <small className=\"d-block text-muted\">${wrapper.product.price} each</small>\n                    </td>\n                    <td className=\"text-right\">\n                      <button className=\"btn btn-sm btn-outline-secondary mr-2\">\n                        <IconHeartFill className=\"i-va\" />\n                      </button>\n                      <button\n                          className=\"btn btn-sm btn-outline-danger\"\n                          onClick={() => handleRemoveAllProduct(wrapper.product)}\n                      >\n                        <IconTrash className=\"i-va\" />\n                      </button>\n                    </td>\n                  </tr>\n              ))}\n              </tbody>\n            </table>\n          </div>\n          <div className=\"card-footer\">\n            <Link to=\"/checkout\" className=\"btn btn-primary float-right\">\n              Make Purchase <IconChevronRight className=\"i-va\" />\n            </Link>\n            <Link to=\"/\" className=\"btn btn-secondary\">\n              <IconChevronLeft className=\"i-va\" /> Continue shopping\n            </Link>\n          </div>\n        </div>\n      </>\n  );\n};\n\nexport default function CartView({ shoppingCart, setShoppingCart, updateCount }) {\n  const [discount, setDiscount] = useState(0);\n\n  const totalCost = getTotalCost(shoppingCart);\n  const discountedTotal = totalCost - discount;\n\n  const handleCouponSubmit = (values, dispatch) => {\n    const { coupon } = values;\n\n    if (coupon && coupon.trim() !== \"\") {\n      alert(\"Coupon applied! You get a $1 discount.\");\n      setDiscount(1);\n    } else {\n      alert(\"Invalid coupon code. Please try again.\");\n    }\n  };\n\n  return (\n      <>\n        <div className=\"bg-secondary border-top p-4 text-white mb-3\">\n          <h1 className=\"display-6\">Shopping Cart</h1>\n        </div>\n        <div className=\"container mb-3\">\n          <div className=\"row\">\n            <div className=\"col-md-9\">\n              <ProductList shoppingCart={shoppingCart} setShoppingCart={setShoppingCart} updateCount={updateCount} />\n              <div className=\"alert alert-success mt-3\">\n                <p className=\"m-0\">\n                  <IconTruck className=\"i-va mr-2\" /> Free Delivery within 1-2 weeks\n                </p>\n              </div>\n            </div>\n            <div className=\"col-md-3\">\n              <div className=\"card mb-3\">\n                <div className=\"card-body\">\n                  <CouponApplyForm onSubmit={handleCouponSubmit} />\n                </div>\n              </div>\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <dl className=\"row border-bottom\">\n                    <dt className=\"col-6\">Total price:</dt>\n                    <dd className=\"col-6 text-right\">${totalCost.toFixed(2)}</dd>\n                    <dt className=\"col-6 text-success\">Discount:</dt>\n                    <dd className=\"col-6 text-success text-right\">-${discount.toFixed(2)}</dd>\n                    <dt className=\"col-6 text-success\">Coupon:</dt>\n                    <dd className=\"col-6 text-success text-right\">-$1.00</dd>\n                  </dl>\n                  <dl className=\"row\">\n                    <dt className=\"col-6\">Total:</dt>\n                    <dd className=\"col-6 text-right h5\">\n                      <strong>${discountedTotal.toFixed(2)}</strong>\n                    </dd>\n                  </dl>\n                  <hr />\n                  <p className=\"text-center\">\n                    <img src=\"../../images/payment/payments.webp\" alt=\"...\" height={26} />\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-light border-top p-4\">\n          <div className=\"container\">\n            <h6>Payment and refund policy</h6>\n            <p>\n              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do\n              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim\n              ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut\n              aliquip ex ea commodo consequat. Duis aute irure dolor in\n              reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\n              pariatur. Excepteur sint occaecat cupidatat non proident, sunt in\n              culpa qui officia deserunt mollit anim id est laborum.\n            </p>\n            <p>\n              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do\n              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim\n              ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut\n              aliquip ex ea commodo consequat. Duis aute irure dolor in\n              reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\n              pariatur. Excepteur sint occaecat cupidatat non proident, sunt in\n              culpa qui officia deserunt mollit anim id est laborum.\n            </p>\n          </div>\n        </div>\n      </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}