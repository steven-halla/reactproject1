{"ast":null,"code":"var _jsxFileName = \"/Users/stevenhalla/code/cs246_react_project-main/src/components/Search.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { ReactComponent as IconSearch } from \"bootstrap-icons/icons/search.svg\";\nimport { useNavigate } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Overlay, Popover } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Search = _ref => {\n  _s();\n\n  let {\n    allproducts,\n    setSearchData\n  } = _ref;\n  const [searchVal, updateSearchVal] = useState('');\n  const [show, setShow] = useState(false);\n  const ref = useRef(null);\n  const navigation = useNavigate();\n\n  const update = event => {\n    const searchValLower = searchVal.toLowerCase();\n    const result = allproducts.filter(product => product.name.toLowerCase().includes(searchValLower) || product.category.toLowerCase().includes(searchValLower) || product.description.toLowerCase().includes(searchValLower));\n\n    if (result.length < 1) {\n      setShow(true);\n      hidePopover(2);\n    } else {\n      setSearchData(result);\n      navigation(`/searchResult`);\n    }\n  };\n\n  const hidePopover = seconds => {\n    const timer = setTimeout(() => {\n      setShow(false);\n    }, seconds * 1000);\n    return () => clearTimeout(timer);\n  };\n\n  const LinkEnabled = () => {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary text-white\",\n      type: \"submit\",\n      \"aria-label\": \"Search\",\n      onClick: event => update(event),\n      children: /*#__PURE__*/_jsxDEV(IconSearch, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this);\n  };\n\n  const LinkDisabled = () => {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary text-white\",\n      type: \"submit\",\n      \"aria-label\": \"Search\",\n      disabled: true,\n      children: /*#__PURE__*/_jsxDEV(IconSearch, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this);\n  };\n\n  const SearchButton = () => {\n    return searchVal ? /*#__PURE__*/_jsxDEV(LinkEnabled, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(LinkDisabled, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 46\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    action: \"#\",\n    className: \"search\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      ref: ref,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"searchInput\",\n        name: \"searchInput\",\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Search\",\n        required: true,\n        value: searchVal,\n        onChange: event => updateSearchVal(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"visually-hidden\",\n        htmlFor: \"search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n        show: show,\n        target: ref.current,\n        placement: \"bottom\",\n        container: ref,\n        containerPadding: 20,\n        children: /*#__PURE__*/_jsxDEV(Popover, {\n          id: \"popover-contained\",\n          style: {\n            margin: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(Popover.Header, {\n            as: \"h3\",\n            children: \"Search result is empty. Please try again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SearchButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Search, \"q28QXeLVw9uFsAEoSQhGHAaYr9w=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Users/stevenhalla/code/cs246_react_project-main/src/components/Search.jsx"],"names":["React","useEffect","useRef","useState","ReactComponent","IconSearch","useNavigate","Link","Overlay","Popover","Search","allproducts","setSearchData","searchVal","updateSearchVal","show","setShow","ref","navigation","update","event","searchValLower","toLowerCase","result","filter","product","name","includes","category","description","length","hidePopover","seconds","timer","setTimeout","clearTimeout","LinkEnabled","LinkDisabled","SearchButton","target","value","current","margin"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,cAAc,IAAIC,UAA3B,QAA6C,kCAA7C;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,iBAAjC;;;AAEA,MAAMC,MAAM,GAAG,QAAoC;AAAA;;AAAA,MAAnC;AAAEC,IAAAA,WAAF;AAAeC,IAAAA;AAAf,GAAmC;AAC/C,QAAM,CAACC,SAAD,EAAYC,eAAZ,IAA+BX,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAMc,GAAG,GAAGf,MAAM,CAAC,IAAD,CAAlB;AACA,QAAMgB,UAAU,GAAGZ,WAAW,EAA9B;;AAEA,QAAMa,MAAM,GAAIC,KAAD,IAAW;AACtB,UAAMC,cAAc,GAAGR,SAAS,CAACS,WAAV,EAAvB;AACA,UAAMC,MAAM,GAAGZ,WAAW,CAACa,MAAZ,CAAmBC,OAAO,IACrCA,OAAO,CAACC,IAAR,CAAaJ,WAAb,GAA2BK,QAA3B,CAAoCN,cAApC,KACAI,OAAO,CAACG,QAAR,CAAiBN,WAAjB,GAA+BK,QAA/B,CAAwCN,cAAxC,CADA,IAEAI,OAAO,CAACI,WAAR,CAAoBP,WAApB,GAAkCK,QAAlC,CAA2CN,cAA3C,CAHW,CAAf;;AAMA,QAAIE,MAAM,CAACO,MAAP,GAAgB,CAApB,EAAuB;AACnBd,MAAAA,OAAO,CAAC,IAAD,CAAP;AACAe,MAAAA,WAAW,CAAC,CAAD,CAAX;AACH,KAHD,MAGO;AACHnB,MAAAA,aAAa,CAACW,MAAD,CAAb;AACAL,MAAAA,UAAU,CAAE,eAAF,CAAV;AACH;AACJ,GAfD;;AAiBA,QAAMa,WAAW,GAAIC,OAAD,IAAa;AAC7B,UAAMC,KAAK,GAAGC,UAAU,CAAC,MAAM;AAC3BlB,MAAAA,OAAO,CAAC,KAAD,CAAP;AACH,KAFuB,EAErBgB,OAAO,GAAG,IAFW,CAAxB;AAGA,WAAO,MAAMG,YAAY,CAACF,KAAD,CAAzB;AACH,GALD;;AAOA,QAAMG,WAAW,GAAG,MAAM;AACtB,wBACI;AAAQ,MAAA,SAAS,EAAC,4BAAlB;AAA+C,MAAA,IAAI,EAAC,QAApD;AAA6D,oBAAW,QAAxE;AACQ,MAAA,OAAO,EAAEhB,KAAK,IAAID,MAAM,CAACC,KAAD,CADhC;AAAA,6BAEI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAMH,GAPD;;AASA,QAAMiB,YAAY,GAAG,MAAM;AACvB,wBACI;AAAQ,MAAA,SAAS,EAAC,4BAAlB;AAA+C,MAAA,IAAI,EAAC,QAApD;AAA6D,oBAAW,QAAxE;AAAiF,MAAA,QAAQ,EAAE,IAA3F;AAAA,6BACI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH,GAND;;AAQA,QAAMC,YAAY,GAAG,MAAM;AACvB,WAAOzB,SAAS,gBAAG,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YAAH,gBAAqB,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,YAArC;AACH,GAFD;;AAIA,sBACI;AAAM,IAAA,MAAM,EAAC,GAAb;AAAiB,IAAA,SAAS,EAAC,QAA3B;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAA6B,MAAA,GAAG,EAAEI,GAAlC;AAAA,8BACI;AACI,QAAA,EAAE,EAAC,aADP;AAEI,QAAA,IAAI,EAAC,aAFT;AAGI,QAAA,IAAI,EAAC,MAHT;AAII,QAAA,SAAS,EAAC,cAJd;AAKI,QAAA,WAAW,EAAC,QALhB;AAMI,QAAA,QAAQ,MANZ;AAOI,QAAA,KAAK,EAAEJ,SAPX;AAQI,QAAA,QAAQ,EAAEO,KAAK,IAAIN,eAAe,CAACM,KAAK,CAACmB,MAAN,CAAaC,KAAd;AARtC;AAAA;AAAA;AAAA;AAAA,cADJ,eAWI;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAmC,QAAA,OAAO,EAAC;AAA3C;AAAA;AAAA;AAAA;AAAA,cAXJ,eAYI,QAAC,OAAD;AACI,QAAA,IAAI,EAAEzB,IADV;AAEI,QAAA,MAAM,EAAEE,GAAG,CAACwB,OAFhB;AAGI,QAAA,SAAS,EAAC,QAHd;AAII,QAAA,SAAS,EAAExB,GAJf;AAKI,QAAA,gBAAgB,EAAE,EALtB;AAAA,+BAOI,QAAC,OAAD;AAAS,UAAA,EAAE,EAAC,mBAAZ;AAAgC,UAAA,KAAK,EAAE;AAAEyB,YAAAA,MAAM,EAAE;AAAV,WAAvC;AAAA,iCACI,QAAC,OAAD,CAAS,MAAT;AAAgB,YAAA,EAAE,EAAC,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAPJ;AAAA;AAAA;AAAA;AAAA,cAZJ,eAuBI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,cAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA6BH,CAhFD;;GAAMhC,M;UAIiBJ,W;;;KAJjBI,M;AAkFN,eAAeA,MAAf","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { ReactComponent as IconSearch } from \"bootstrap-icons/icons/search.svg\";\nimport { useNavigate } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Overlay, Popover } from \"react-bootstrap\";\n\nconst Search = ({ allproducts, setSearchData }) => {\n    const [searchVal, updateSearchVal] = useState('');\n    const [show, setShow] = useState(false);\n    const ref = useRef(null);\n    const navigation = useNavigate();\n\n    const update = (event) => {\n        const searchValLower = searchVal.toLowerCase();\n        const result = allproducts.filter(product =>\n            product.name.toLowerCase().includes(searchValLower) ||\n            product.category.toLowerCase().includes(searchValLower) ||\n            product.description.toLowerCase().includes(searchValLower)\n        );\n\n        if (result.length < 1) {\n            setShow(true);\n            hidePopover(2);\n        } else {\n            setSearchData(result);\n            navigation(`/searchResult`);\n        }\n    };\n\n    const hidePopover = (seconds) => {\n        const timer = setTimeout(() => {\n            setShow(false);\n        }, seconds * 1000);\n        return () => clearTimeout(timer);\n    };\n\n    const LinkEnabled = () => {\n        return (\n            <button className=\"btn btn-primary text-white\" type=\"submit\" aria-label=\"Search\"\n                    onClick={event => update(event)}>\n                <IconSearch />\n            </button>\n        );\n    };\n\n    const LinkDisabled = () => {\n        return (\n            <button className=\"btn btn-primary text-white\" type=\"submit\" aria-label=\"Search\" disabled={true}>\n                <IconSearch />\n            </button>\n        );\n    };\n\n    const SearchButton = () => {\n        return searchVal ? <LinkEnabled /> : <LinkDisabled />;\n    };\n\n    return (\n        <form action=\"#\" className=\"search\">\n            <div className=\"input-group\" ref={ref}>\n                <input\n                    id=\"searchInput\"\n                    name=\"searchInput\"\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Search\"\n                    required\n                    value={searchVal}\n                    onChange={event => updateSearchVal(event.target.value)}\n                />\n                <label className=\"visually-hidden\" htmlFor=\"search\"></label>\n                <Overlay\n                    show={show}\n                    target={ref.current}\n                    placement=\"bottom\"\n                    container={ref}\n                    containerPadding={20}\n                >\n                    <Popover id=\"popover-contained\" style={{ margin: 0 }}>\n                        <Popover.Header as=\"h3\">Search result is empty. Please try again</Popover.Header>\n                    </Popover>\n                </Overlay>\n                <SearchButton />\n            </div>\n        </form>\n    );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}